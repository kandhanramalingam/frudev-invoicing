<app-header title="Auctions">
    <div actions class="flex gap-2 items-end">
        <div class="flex flex-col">
            <label class="text-xs mb-1">Auction Date</label>
            <input type="date" [(ngModel)]="filterDate" (change)="load()" class="p-inputtext p-component"/>
        </div>
        <div class="flex flex-col">
            <label class="text-xs mb-1">Auction Id / Name</label>
            <input pInputText type="text" [(ngModel)]="search" (keyup.enter)="load()" placeholder="Search"/>
        </div>
    </div>
</app-header>

<p-table [value]="rows" [loading]="loading" [paginator]="rows.length > 0" [rows]="rowsPerPage">
    <ng-template pTemplate="header">
        <tr>
            <th style="width: 10rem">Auction Id</th>
            <th>Auction Name</th>
            <th style="width: 12rem">Auction Date</th>
            <th style="width: 12rem">Action</th>
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-row>
        <tr>
            <td>{{ row.id }}</td>
            <td>{{ row.NameOfAuction }}</td>
            <td>{{ row.DateOfAuction | date:'dd-MM-yyyy' }}</td>
            <td>
                <div class="flex gap-5">
                    <div [routerLink]="['/lots']" [queryParams]="{'auctionId': row.id}" class="flex items-center gap-2 cursor-pointer text-xs text-yellow-600 font-semibold"><i class="fa fa-list"></i><span>Lots</span></div>
                    <div [routerLink]="['/buyers']" [queryParams]="{'auctionId': row.id}" class="flex items-center gap-2 cursor-pointer text-xs text-purple-500 font-semibold"><i class="fa fa-users"></i><span>Buyers</span></div>
                </div>
            </td>
        </tr>
    </ng-template>
    <ng-template pTemplate="emptymessage">
        <tr>
            <td colspan="4">No auctions found</td>
        </tr>
    </ng-template>
</p-table>
