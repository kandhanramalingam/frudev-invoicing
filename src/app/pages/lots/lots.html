<app-header title="Lots">
    <div actions class="flex gap-2 items-end">
        <div class="flex flex-col">
            <label class="text-xs mb-1">Auction</label>
            <p-select [loading]="loadingAuctions" placeholder="Select Auction" appendTo="body" [options]="auctions"
                      optionLabel="NameOfAuction" optionValue="id"
                      [(ngModel)]="selectedAuctionId" (onChange)="load()" [filter]="true" [showClear]="true"
                      (onFilter)="onFilter($event)"></p-select>
        </div>
        <div class="flex flex-col">
            <label class="text-xs mb-1">Search Lot No</label>
            <input pInputText type="text" [(ngModel)]="searchLot" (keyup.enter)="load()" placeholder="Lot number"/>
        </div>
    </div>
</app-header>

<p-table [value]="rows" [loading]="loading" [paginator]="rows.length > 0" [rows]="rowsPerPage">
    <ng-template pTemplate="header">
        <tr>
            <th style="width: 8rem">Lot no</th>
            <th style="width: 12rem">Wildlife Type</th>
            <th>Description</th>
            <th style="width: 10rem">Lot Type</th>
            <th style="width: 8rem">Quantity</th>
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-row>
        <tr>
            <td>{{ row.mainlotno }}</td>
            <td>{{ row.wildlifeType }}</td>
            <td>{{ row.description }}</td>
            <td>Per {{ row.price | titlecase }}</td>
            <td>{{ row.sum_total }}</td>
        </tr>
    </ng-template>
    <ng-template pTemplate="emptymessage">
        <tr>
            <td colspan="5">No lots found</td>
        </tr>
    </ng-template>
</p-table>
